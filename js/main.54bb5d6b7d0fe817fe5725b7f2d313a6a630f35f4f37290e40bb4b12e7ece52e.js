(()=>{var c=null,r=null;function u(){let e=document.getElementById("nav-toggle"),t=document.getElementById("main-nav");e?.addEventListener("click",()=>{t.classList.toggle("open")}),document.querySelectorAll("#main-nav a").forEach(n=>{n.addEventListener("click",()=>{window.innerWidth<=480&&t.classList.remove("open")})})}function v(){let e=document.querySelector("#intro");e&&e.querySelectorAll(".option").forEach(t=>{t.addEventListener("click",()=>{e.querySelectorAll(".active").forEach(n=>n.classList.remove("active")),t.classList.add("active");let o=t.classList[1];e.querySelector(`.message.${o}`)?.classList.add("active")})})}function m(){let e=document.querySelector(".intro-options");e&&(r&&e.removeEventListener("scroll",r),r=()=>{let{scrollLeft:t,scrollWidth:o,clientWidth:n}=e;document.querySelector(".scroll-mask.left")?.classList.toggle("scrolled",t>16),document.querySelector(".scroll-mask.right")?.classList.toggle("scrolled",t<o-n)},e.addEventListener("scroll",r))}function g(){let e=document.querySelectorAll("section[id]"),t=document.querySelectorAll('#main-nav a[href^="#"]');c&&c.disconnect(),e.length>0&&t.length>0&&(c=new IntersectionObserver(o=>{o.forEach(n=>{if(n.isIntersecting){let i=document.querySelector(`#main-nav a[href="#${n.target.id}"]`);i&&(document.querySelectorAll("#main-nav li").forEach(s=>s.classList.remove("active")),i.parentElement.classList.add("active"))}})},{threshold:.1,rootMargin:"-10% 0px"}),e.forEach(o=>c.observe(o)))}function f(){let e=document.querySelectorAll(".on-load");if(e.length===0)return;let t=0,o=70,n=new IntersectionObserver(i=>{i.sort((s,l)=>s.target.compareDocumentPosition(l.target)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1),i.forEach((s,l)=>{if(s.isIntersecting){let d=l*o;setTimeout(()=>{s.target.classList.add("loaded-in")},d),n.unobserve(s.target)}})},{threshold:.1,rootMargin:"-25% 0px"});e.forEach(i=>{n.observe(i)})}function a(){f(),u(),v(),m(),g(),initializeTester()}function L(){c&&(c.disconnect(),c=null);let e=document.querySelector(".intro-options");e&&r&&(e.removeEventListener("scroll",r),r=null)}document.addEventListener("DOMContentLoaded",()=>{let e=new Swup({plugins:[new SwupHeadPlugin]});a(),e.hooks.on("page:view",a),e.hooks.on("content:replace",L)});})();
